# Use an official openjdk image with JDK 17
FROM openjdk:17-jdk-slim

# Install curl, unzip, and bash (if needed)
RUN apt-get update && apt-get install -y curl unzip bash

# Install Gradle (e.g. 8.0)
ARG GRADLE_VERSION=8.0
RUN curl -fsSL https://services.gradle.org/distributions/gradle-${GRADLE_VERSION}-bin.zip -o gradle.zip \
  && unzip gradle.zip -d /opt \
  && rm gradle.zip
ENV PATH="/opt/gradle-${GRADLE_VERSION}/bin:${PATH}"

# Set working directory
WORKDIR /app

# Copy your entire project to container
COPY . .

# Run the Gradle build by default
CMD ["./gradlew", "wasmJsBrowserDistribution"]

